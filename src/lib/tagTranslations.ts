const MAP: Record<string, string> = {
  'تنقية': 'Noise reduction',
  'صوت': 'Audio',
  'موسيقى': 'Music',
  'موسيقئ': 'Music',
  'بودكاست': 'Podcast',
  'هندسة': 'Engineering',
  'مزج': 'Mixing',
  'ماسترينغ': 'Mastering',
  'ماسترنغ': 'Mastering',
  'تحسين': 'Optimization',
  'تحسين السيو التقني': 'Technical SEO',
  'تنظيف': 'Cleaning',
  'إزالة الخلفية': 'Background removal',
  'إزالة الضوضاء': 'Noise removal',
  'مواقع': 'Websites',
  'تطبيقات': 'Apps',
  'واجهات': 'Front-end',
  'خلفية': 'Back-end',
  'متاجر': 'Ecommerce',
  'لوحات': 'Dashboards',
  'ربط API': 'API Integration',
  'صيانة': 'Maintenance',
  'ووردبريس': 'WordPress',
  'أتمتة': 'Automation',
  // marketing / content
  'كتابة': 'Writing',
  'ترجمة': 'Translation',
  'مقالات': 'Articles',
  'محتوى تسويقي': 'Marketing content',
  'إعلانات': 'Ads',
  'تدقيق': 'Proofreading',
  'إعادة': 'Rewriting',
  'سيرة': 'Resume',
  'وصف منتجات': 'Product descriptions',
  // video & motion
  'مونتاج': 'Editing',
  'إنتاج': 'Production',
  'سوشيال': 'Social',
  'موشن': 'Motion',
  'أنيميشن': 'Animation',
  'مقدمات': 'Intro',
  'إخراج': 'Video direction',
  'تحويل': 'Conversion',
  'VFX': 'VFX',
  'تحسين جودة الفيديو': 'Video enhancement',
  // audio
  'تسجيل': 'Recording',
  'ماستر': 'Mastering',
  'ماسترينغ صوتي': 'Audio mastering',
  // ai & data
  'نماذج': 'Models',
  'صور': 'Images',
  'شات بوت': 'Chatbot',
  'تحليل': 'Analysis',
  'تلخيص': 'Summarization',
  'TTS': 'Text-to-speech',
  'STT': 'Speech-to-text',
  // business / legal / edu / engineering
  'استشارة': 'Consulting',
  'مالية': 'Finance',
  'خطط': 'Business plans',
  'عقود': 'Contracts',
  'قضايا': 'Legal cases',
  'مذكرات': 'Legal briefs',
  'توثيق': 'Notarization',
  'امتثال': 'Compliance',
  'لوائح': 'Policies',
  'دراسات': 'Feasibility studies',
  'محاسبة': 'Accounting',
  'قانوني': 'Legal',
  'مشاريع': 'Project management',
  'موارد بشرية': 'HR',
  'معماري': 'Architectural',
  'داخلي': 'Interior',
  'مخططات': 'Plans',
  '3D': '3D',
  'أوتوكاد': 'AutoCAD',
  'إنشائي': 'Structural',
  'تنسيق': 'Landscape',
  'دورات': 'Courses',
  'دروس': 'Lessons',
  'مناهج': 'Curriculum',
  'لغات': 'Languages',
  'تدريب': 'Training',
  'برمجة': 'Programming',
  'مهارات': 'Skills',
  'تنظيف ومعالجة البيانات': 'Data cleaning',
  'تصور': 'Visualization',
  'تقارير': 'Reports',
  'تحليل بيانات': 'Data analysis',
  'Performance': 'Performance',
  'Technical': 'Technical',
  'Analytics': 'Analytics',
  'هوية موثقة': 'Verified',
  'متواجد حالياً': 'Online',
  'موثّق': 'Verified',
  'السعر نهائي شامل الضريبة': 'Final price includes tax',
  'عروض': 'Presentations',
  'قانونية': 'Legal',
  'استراتيجية': 'Strategy',
  // education / tests / kids
  'جامعي': 'University',
  'اختبارات': 'Tests',
  'أطفال': 'Kids',
  'حساب': 'Quantity survey',
  // support / hosting / security
  'دعم': 'Support',
  'سيرفر': 'Server',
  'بريد': 'Email',
  'تصحيح': 'Bug fixing',
  'نسخ': 'Backup',
  'استضافة': 'Hosting',
  'أمن': 'Security',
  'اختبار': 'Testing',
  'شبكات': 'Networks',
  'سياسات': 'Policies',
  'رصد': 'Monitoring',
  'تشفير': 'Encryption',
  'توعية': 'Awareness',
};

export function translateTag(tag?: string | null) {
  if (!tag) return tag;
  const trimmed = String(tag).trim();
  if (MAP[trimmed]) return MAP[trimmed];
  const lower = trimmed.toLowerCase();
  for (const [k, v] of Object.entries(MAP)) {
    if (k.toLowerCase() === lower) return v;
  }
  if (/^[A-Za-z0-9\-\s()]+$/.test(trimmed)) return trimmed;
  return trimmed;
}

// ASSISTANT_FINAL: true
